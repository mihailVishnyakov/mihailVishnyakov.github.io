<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Filter JS</title>
</head>
<body>

<style>
.main_wrapp {
    display: flex;
    flex-wrap: wrap;
}

.main_wrapp [filterpriceactive='0'] {
    display: block;
    width: calc(100% / 4 - 20px);
    margin: 10px;
}

.main_wrapp [filterpriceactive='0'] img {
    display: block;
    width: calc(100% - 20px);
    box-sizing: border-box;
}

.main_wrapp [filterpriceactive='0'] span {
    width: 100%;
    display: block;
    font-size: 30px;
    text-align: center;
}

.sort_item_main_wrapp {
    display: flex;
    flex-wrap: wrap;
}

.sort_item_wrapp > div {
    display: inline-block;
    box-sizing: border-box;
    margin: 10px;
    padding: 15px;
    background: linear-gradient(67deg, #038adf, #01bce6);
    color: #fff;
    border-radius: 20px;
    font-weight: bold;
    cursor: pointer;
}
</style>


	<h1>NAtiv filter in JS</h1>
	
<div class="new_inker_item_wrapp filter_new">
	<div class="new_inker_item_wrapp_title filter_new">Подбор товара</div>

	<div class="new_inker_item_wrapp_cont price_filter_wrapp">
		<div class="new_inker_item_wrapp_cont_name">Цена</div>
		<div class="new_inker_item_wrapp_cont_descr">
			<span>
				<i>от </i>
				<input type="text" class="price_min" value="0">
			</span>
			<span>
				<i>до</i>
				<input type="text" class="price_max" value="99999">
			</span>
		</div>
	</div>

	<div class="new_inker_item_wrapp_cont width_filter_wrapp">
		<div class="new_inker_item_wrapp_cont_name">Толщина</div>
		<div class="new_inker_item_wrapp_cont_descr">
			<select name="select_width">
			  <option value="0"> - Толщина - </option>
			  <option value="1,5 см">1,5 см</option>
			  <option value="2 см">2 см</option>
			  <option value="3 см">3 см</option>
			  <option value="4 см">4 см</option>
			  <option value="5 см">5 см</option>
			  <option value="6 см">6 см</option>
			  <option value="1-3 см">1-3 см</option>
			  <option value="2-4 см">2-4 см</option>
			  <option value="6-9 см">6-9 см</option> 
			  <option value="10-15 см">10-15 см</option>
			  <option value="1-3 см (облицовка)">1-3 см (облицовка)</option>
			  <option value="3-4 см (дорожки)">3-4 см (дорожки)</option>
			  <option value="5-6 см (автомобили,парковки)">5-6 см (автомобили,парковки)</option> 
			  <option value="7-15 см ( кладочный)">7-15 см ( кладочный)</option>  
			</select>
		</div>
	</div>

	<div class="new_inker_item_wrapp_cont color_filter_wrapp">
		<div class="new_inker_item_wrapp_cont_name">Цвет</div>
		<div class="new_inker_item_wrapp_cont_descr">
			<select name="select_width">
			  <option value="0"> - Цвет - </option>
			  <option value="белый">белый</option>
			  <option value="желтый">желтый</option>
			  <option value="зеленый">зеленый</option>
			  <option value="коричневый">коричневый</option>
			  <option value="красный">красный</option>
			  <option value="розовый">розовый</option>
			  <option value="серый">серый</option>
			  <option value="фиолетовый">фиолетовый</option>
			</select>
		</div>
	</div>

	<div class="filter_submit_wrapp">
		<button>Применить фильтр</button>
	</div>
	<div class="filter_rezet_wrapp">
		<button>Сбросить фильтр</button>
	</div>

</div>

<div class="sort_item_main_wrapp">
	<div class="sort_item_wrapp_title">
		<span>Сортировать по:</span>
	</div>
	<div class="sort_item_wrapp_title one">
		<span>По цене <i></i></span>
		<div class="sort_item_wrapp price">
			<div class="sort_up">Сначала дорогие</div>
			<div class="sort_down">Сначала дешевые</div>
		</div>
	</div>
	<div class="sort_item_wrapp_title two">
		<span>По названию <i></i></span>
		<div class="sort_item_wrapp name">
			<div class="sort_up_name">По названию (А-Я)</div>
			<div class="sort_down_name">По названию (Я-А)</div>
		</div>
	</div>
</div>

<div class="unfilter_wrapp">
	
</div>

<div class="main_wrapp">
	<form action="" method="post" data-itemname="песчаник белый" data-price="350" data-color="белый" data-colornaturalrock="" data-width="1,5 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>песчаник белый</span>
		<span>Цена: 350</span>
	</form>
	<form action="" method="post" data-itemname="песчаник желтый" data-price="420" data-color="желтый" data-colornaturalrock="" data-width="2 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>песчаник желтый</span>
		<span>Цена: 420</span>
	</form>
	<form action="" method="post" data-itemname="песчаник зеленый" data-price="4900" data-color="зеленый" data-colornaturalrock="" data-width="3 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>песчаник зеленый</span>
		<span>Цена: 4900</span>
	</form>
	<form action="" method="post" data-itemname="кварц коричневый" data-price="4100" data-color="коричневый" data-colornaturalrock="" data-width="4 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>кварц коричневый</span>
		<span>Цена: 4100</span>
	</form>
	<form action="" method="post" data-itemname="кварц красный" data-price="6000" data-color="красный" data-colornaturalrock="" data-width="5 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>кварц красный</span>
		<span>Цена: 6000</span>
	</form>
	<form action="" method="post" data-itemname="кварц розовый" data-price="7000" data-color="розовый" data-colornaturalrock="" data-width="6 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>кварц розовый</span>
		<span>Цена: 7000</span>
	</form>
	<form action="" method="post" data-itemname="песчаник белый" data-price="350" data-color="белый" data-colornaturalrock="" data-width="1,5 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>песчаник белый</span>
		<span>Цена: 350</span>
	</form>
	<form action="" method="post" data-itemname="песчаник желтый" data-price="420" data-color="желтый" data-colornaturalrock="" data-width="2 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>песчаник желтый</span>
		<span>Цена: 420</span>
	</form>
	<form action="" method="post" data-itemname="песчаник зеленый" data-price="4900" data-color="зеленый" data-colornaturalrock="" data-width="3 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>песчаник зеленый</span>
		<span>Цена: 4900</span>
	</form>
	<form action="" method="post" data-itemname="кварц коричневый" data-price="4100" data-color="коричневый" data-colornaturalrock="" data-width="4 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>кварц коричневый</span>
		<span>Цена: 4100</span>
	</form>
	<form action="" method="post" data-itemname="кварц красный" data-price="6000" data-color="красный" data-colornaturalrock="" data-width="5 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>кварц красный</span>
		<span>Цена: 6000</span>
	</form>
	<form action="" method="post" data-itemname="кварц розовый" data-price="7000" data-color="розовый" data-colornaturalrock="" data-width="6 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>кварц розовый</span>
		<span>Цена: 7000</span>
	</form>
	<form action="" method="post" data-itemname="песчаник белый" data-price="350" data-color="белый" data-colornaturalrock="" data-width="1,5 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>песчаник белый</span>
		<span>Цена: 350</span>
	</form>
	<form action="" method="post" data-itemname="песчаник желтый" data-price="420" data-color="желтый" data-colornaturalrock="" data-width="2 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>песчаник желтый</span>
		<span>Цена: 420</span>
	</form>
	<form action="" method="post" data-itemname="песчаник зеленый" data-price="4900" data-color="зеленый" data-colornaturalrock="" data-width="3 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>песчаник зеленый</span>
		<span>Цена: 4900</span>
	</form>
	<form action="" method="post" data-itemname="кварц коричневый" data-price="4100" data-color="коричневый" data-colornaturalrock="" data-width="4 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>кварц коричневый</span>
		<span>Цена: 4100</span>
	</form>
	<form action="" method="post" data-itemname="кварц красный" data-price="6000" data-color="красный" data-colornaturalrock="" data-width="5 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>кварц красный</span>
		<span>Цена: 6000</span>
	</form>
	<form action="" method="post" data-itemname="кварц розовый" data-price="7000" data-color="розовый" data-colornaturalrock="" data-width="6 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>кварц розовый</span>
		<span>Цена: 7000</span>
	</form>
	<form action="" method="post" data-itemname="песчаник белый" data-price="350" data-color="белый" data-colornaturalrock="" data-width="1,5 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>песчаник белый</span>
		<span>Цена: 350</span>
	</form>
	<form action="" method="post" data-itemname="песчаник желтый" data-price="420" data-color="желтый" data-colornaturalrock="" data-width="2 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>песчаник желтый</span>
		<span>Цена: 420</span>
	</form>
	<form action="" method="post" data-itemname="песчаник зеленый" data-price="4900" data-color="зеленый" data-colornaturalrock="" data-width="3 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>песчаник зеленый</span>
		<span>Цена: 4900</span>
	</form>
	<form action="" method="post" data-itemname="кварц коричневый" data-price="4100" data-color="коричневый" data-colornaturalrock="" data-width="4 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>кварц коричневый</span>
		<span>Цена: 4100</span>
	</form>
	<form action="" method="post" data-itemname="кварц красный" data-price="6000" data-color="красный" data-colornaturalrock="" data-width="5 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>кварц красный</span>
		<span>Цена: 6000</span>
	</form>
	<form action="" method="post" data-itemname="кварц розовый" data-price="7000" data-color="розовый" data-colornaturalrock="" data-width="6 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>кварц розовый</span>
		<span>Цена: 7000</span>
	</form>
	<form action="" method="post" data-itemname="песчаник белый" data-price="350" data-color="белый" data-colornaturalrock="" data-width="1,5 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>песчаник белый</span>
		<span>Цена: 350</span>
	</form>
	<form action="" method="post" data-itemname="песчаник желтый" data-price="420" data-color="желтый" data-colornaturalrock="" data-width="2 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>песчаник желтый</span>
		<span>Цена: 420</span>
	</form>
	<form action="" method="post" data-itemname="песчаник зеленый" data-price="4900" data-color="зеленый" data-colornaturalrock="" data-width="3 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>песчаник зеленый</span>
		<span>Цена: 4900</span>
	</form>
	<form action="" method="post" data-itemname="кварц коричневый" data-price="4100" data-color="коричневый" data-colornaturalrock="" data-width="4 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>кварц коричневый</span>
		<span>Цена: 4100</span>
	</form>
	<form action="" method="post" data-itemname="кварц красный" data-price="6000" data-color="красный" data-colornaturalrock="" data-width="5 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>кварц красный</span>
		<span>Цена: 6000</span>
	</form>
	<form action="" method="post" data-itemname="кварц розовый" data-price="7000" data-color="розовый" data-colornaturalrock="" data-width="6 см" filterpriceactive="0">
		<img src="image.jpg" alt="">
		<span>кварц розовый</span>
		<span>Цена: 7000</span>
	</form>
</div>
<script type="text/javascript" src="https://inkerkam.ru/assets/snippets/shopkeeper/js/jquery-1.6.3.min.js"></script>


<script>
let nodeList = document.querySelectorAll('[filterpriceactive="0"]');
let filterArray = document.querySelectorAll('.main_wrapp');
let unilterArray = document.querySelectorAll('.unfilter_wrapp');
let reservNode = filterArray[0].cloneNode(true);
let itemsArray = [];


//let itemsArray = [];
//let parent = nodeList[0].parentNode;


function sort(value) {
	for (let item of nodeList) {
		itemsArray.push(item);
	}

	switch(value) {
		case 'sortUp':
			itemsArray.sort(function(nodeA, nodeB) {
				if (parseInt(nodeA.getAttribute('data-price')) < parseInt(nodeB.getAttribute('data-price'))) return 1;
				if (parseInt(nodeA.getAttribute('data-price')) > parseInt(nodeB.getAttribute('data-price'))) return -1;
				return 0;
			});
		break;
		case 'sortDown':
			itemsArray.sort(function(nodeA, nodeB) {
				if (parseInt(nodeA.getAttribute('data-price')) > parseInt(nodeB.getAttribute('data-price'))) return 1;
				if (parseInt(nodeA.getAttribute('data-price')) < parseInt(nodeB.getAttribute('data-price'))) return -1;
				return 0;
			});
		break;
		case 'sortUpName':
			itemsArray.sort(function(nodeA, nodeB) {
				if (nodeA.getAttribute('data-itemname').substr(0, 1) > nodeB.getAttribute('data-itemname').substr(0, 1)) return 1;
				if (nodeA.getAttribute('data-itemname').substr(0, 1) < nodeB.getAttribute('data-itemname').substr(0, 1)) return -1;
				return 0;
			});
		break;
		case ('sortDownName'):
			itemsArray.sort(function(nodeA, nodeB) {
				if (nodeA.getAttribute('data-itemname').substr(0, 1) < nodeB.getAttribute('data-itemname').substr(0, 1)) return 1;
				if (nodeA.getAttribute('data-itemname').substr(0, 1) > nodeB.getAttribute('data-itemname').substr(0, 1)) return -1;
				return 0;
			});
		break;
	}

	
	for (let item of itemsArray) {
		filterArray[0].append(item);
	}
}


$('.sort_up').click(event => sort('sortUp'));
$('.sort_down').click(event => sort('sortDown'));
$('.sort_up_name').click(event => sort('sortUpName'));
$('.sort_down_name').click(event => sort('sortDownName'));





function itemFilter(activeFilter) {
	let minPrice = parseInt(document.querySelector('.price_min').value);
	let maxPrice = parseInt(document.querySelector('.price_max').value);

	console.log(minPrice);
	console.log(maxPrice);
	for (let item of activeFilter) {
		//console.log(item.getAttribute('data-price'));
		if(parseInt(item.getAttribute('data-price')) >= minPrice && parseInt(item.getAttribute('data-price')) <= maxPrice) {
			activeFilter.remove(item);
		} else {
			
		}
	}
}

function itemFilterRezet() {
	filterArray.querySelectorAll('[filterpriceactive="0"]').remove();

	for (let item of nodeList) {
		filterArray.push(item);
	}

}

$('.filter_submit_wrapp button').click(event => itemFilter(filterArray));

$('.filter_rezet_wrapp').click(event => itemFilterRezet);

console.log(reservNode);
	
</script>

</body>
</html>